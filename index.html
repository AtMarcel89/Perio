<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <title>Perio Staging and Grading</title>
    <style>
        body{
            margin:0;
            background-color:#1F2937;
            color:White;
        }
        #staging{
            display:flex;
            justify-content: space-evenly;
            flex-wrap: wrap;
            padding:30px;
        }
        #severity{
            background-color: white;
            color:black;
        }
        #RBL { display:none;
        }
        h1{text-align: center;
            margin:0px;
            padding:30px;
        }
        #main-content{
            background-color:white;
            color:black;
        }
       #secundary-criteria{
            display:none;
       }
       #grading{
            background-color:#1F2937;
            color:White;
       }
       #sub-grading{
            display:flex;
            justify-content: space-evenly;
            flex-wrap: wrap;
            padding:30px;
       }
       #Compl-expl{
            display:none;
       }
       #answer{
            display:flex;
            justify-content: space-evenly;
       }
    </style>
</head>
<body>
    <h1 >Periodontal Staging and Grading Online</h1>
    <div id="main-content"><h1>Staging:</h1> 
    <div id="staging"> 
        <div id="severity">
        <h2>Severity (Site of greater loss)</h2>
            <div><label for="CAL">Clinical attachment level:</label>
                <select name="CAL" id="CAL" onclick="Severity()" >
                    <option value="" selected disabled hidden>--Interdental CAL--</option>
                    <option value="low">1-2mm</option>
                    <option value="medium">3-4mm</option>
                    <option value="high">&#62;5mm</option>
                    <option value="naCal" >Not available</option>
                </select>
            </div>
            <div id="RBL"   ><label for="rx-bone-loss">Radiographic bone loss (% of root):</label>
                <select name="RBL" id="sev-lev-2">
                    <option value="" disabled selected hidden>--Select RBL %--</option>
                    <option value="low"> &#60;15%</option>
                    <option value="medium">15-33%</option>
                    <option value="high">&#62;33%</option>
                </select>
            </div>
            <div id="TL"><label for="tooth-loss">Perio caused tooth loss:</label>
                <select name="tooth-loss" id="sev-lev-3">
                    <option value=""disabled selected hidden>--Or planned for extraction--</option>
                    <option value="low"> None</option>
                    <option value="medium">&#8804;4</option>
                    <option value="high">&#8805;5</option>
                </select>
            </div>
        </div>
        <div id="Complexity">
            <h2>Complexity</h2>
            <p><label for="max-probing-depth">Max Probing Depth:</label>
                <select name="MaxProDep" id="MaxPD" >
                    <option value="" disabled selected hidden>--Max PD--</option>
                    <option value="low"> &#8804;4mm</option>
                    <option value="medium">&#8804;5mm</option>
                    <option value="high">&#8805;6mm</option>
                </select>
            </p>
            <p><label for="type-bl">Type of bone loss:</label>
                <select name="type-bl" id="type-bl" >
                    <option value="" disabled selected hidden>--Type--</option>
                    <option value="low"> Mostly horizontal</option>
                    <option value="high">Vertical &#8805;3mm </option>
                </select>

            </p>
            <form>  <div id="AddInf"><p><b>Additional Information:</b></p></div>  

                <p><label for="Furc">Furcation involvement</label>
                    <select name="FurcInv" id="ST3a" >
                        <option value="" disabled selected hidden>--Type--</option>
                        <option value="low"> None to Gr I</option>
                        <option value="medium"> Gr II </option>
                        <option value="high"> Gr III </option>
                    </select>
                <div id="Def"><input type="checkbox" id="ST3b" value="ST3b" ><label for="Defect"> Moderate ridge defects</label><br></div>  
                <div id="Reh"><input type="checkbox" id="ST4" value="ST4" onclick="RehabExpl()"> <label for="Rehab"> Need of complex rehabilitation</label><br>
                <div id="Compl-expl"><ul><b>Due to:</b>
                    <li>Masticatory dysfunction</li>
                    <li>Secondary occlusal trauma <br> (tooth mobility degree â‰¥2)</li>
                    <li>Severe ridge defects</li>
                    <li>Bite collapse, drifting, flaring</li>
                    <li> &#60; 20 remaining teeth </li>
                </ul>
                </div>
                </div>   
            </form>
        </div>
        <div id="extention">
            <h2>Extent and Distribution:</h2>
            <p><label for="extent">Extent:</label>
                <select name="extent" id="extent">
                    <option value="">--Percentage of teeth involved--</option>
                    <option value="localized"> &#8804;30%</option>
                    <option value="generalized">&#8805; 30%</option>
                </select>
                <form>  <p><b>Distribution:</b></p>  
                    <input type="checkbox" id="MI" value="MI"><label for="Molar-incisor"> Molar/Incisor pattern</label><br> 
                    </form>
        </div>
        <div id="answer">
            <button id="debug" onclick="debug()">Submit</button> <br>
            <p>Periodontitis Stage I</p>
            <p>Periodontitis Stage II</p>
            <p>Periodontitis Stage III</p>
            <p>Periodontitis Stage IV</p>
        </div>
    </div>
    <div id="grading"><h1>Grading:</h1>
        <div id="sub-grading">
        <div id="primary-criteria"> <h2>Primary Criteria:</h2>
            <label for="RBL-CAL">Radiographic Bone Loss or CAL:</label>
                <select name="RBL-CAL" id="RBL-CAL" onclick="Progression()">
                    <option value="">--None over 5 years--</option>
                    <option value="medium">&#60;2mm over 5 years</option>
                    <option value="high">&#8805;2mm over 5 years</option>
                    <option value="NoRBL-CAL">Not available</option>
                </select>
        
        <div id=secundary-criteria>
        <form oninput="result.value=parseInt(a.value)/parseInt(b.value)">
            <label for="%BL">Percentage Bone Loss/ Age:</label>
            <input type="number" id="a" name="%BL" min="0" max="100" maxlength="3" /> /
            <input type="number" id="b" name="age" min="0" max="110" maxlength="3" /> =
            <output name="result" for="a b">--Result--</output>
          </form>
        <label for="phenotype">Case Phenotype</label>
                <select name="phenotype" id="phenotype">
                    <option value="">Destruction commensurated to biofilm deposits</option>
                    <option value="low">High biofilm deposits, low destruction</option>
                    <option value="high">Destruction exceeding expectations based on biofilm deposits</option>
                </select>
            </div>
        </div>
        <div id="grade-mod"><h2>Grade Modifiers:</h2>
            <label for="smoke">Smoking:</label>
                <select name="smoke" id="smoke">
                    <option value="low">Non smoker</option>
                    <option value="medium">&#60; 10 cigarettes/day</option>
                    <option value="high">&#8805; 10 cigarettes/day</option>
                </select>
                <br>
            <label for="diabetes">Diabetes:</label>
                <select name="diabetes" id="diabetes">
                    <option value="">Normoglycemic/No diagnosis</option>
                    <option value="low">HbA1C &#60;7% in patients with diabetes </option>
                    <option value="high">HbA1C &#8805; 7% in patients with diabetes</option>
                </select>  
            </div>
        </div>
    </div>    
</div>
    </div>
    
    <div id="result">

    </div>

    <script>
    function Severity() {
        if (document.getElementById('CAL').value == 'naCal') {
            document.getElementById('RBL').style.display = 'block';
        } else {
            document.getElementById('RBL').style.display = 'none';
        }
    }
    function Progression() {
        if (document.getElementById('RBL-CAL').value == 'NoRBL-CAL'){
            document.getElementById('secundary-criteria').style.display='block';
        } else {
            document.getElementById('secundary-criteria').style.display = 'none'; 
        }
    }
    function RehabExpl(){
        if (document.getElementById('ST4').checked == true)
        {    document.getElementById('Compl-expl').style.display='block';
        }
        else {
            document.getElementById('Compl-expl').style.display='none' 
        }
    }

    let extension = document.getElementById('extent');
    extension.onchange = (ev) =>{
      console.log( extension.value);
    } //takes value of extention (Localized or Generalized)
    
    document.addEventListener.onchange

    const CAL = document.getElementById('CAL');
    let a
        CAL.onchange = (ev) => {
        a = ev.target.value;
        console.log(a)
        } //Gets value of CAL as low, medium or high
    
    const RBL = document.getElementById('sev-lev-2');
    let b
        RBL.onchange = (ev) => {
        b = ev.target.value;
        console.log(b)
        } //Gets value of RBL as low, medium or high

    const TL = document.getElementById('sev-lev-3');
    let c
        TL.onchange = (ev) => {
        c = ev.target.value;
        console.log(c)
        } //Gets value of tooth loss as low, medium or high

    const MaxPD = document.getElementById('MaxPD');
    let d
        MaxPD.onchange = (ev) => {
        d = ev.target.value;
        console.log(d)
        } //Gets value of maximum pocket depth as low, medium or high
    
    const BL = document.getElementById('type-bl');
    let e
        BL.onchange = (ev) => {
        e = ev.target.value;
        console.log(e)
        }  //Gets value of type of bone loss as low or high
    
    const Furc =  document.getElementById('ST3a');
    let f
        Furc.onchange = (ev) => {
        f = ev.target.value;
        console.log(f)
        } //Gets Value of furcation as low, medium or high
    
    const RiDe =  document.getElementById('ST3b');
    let g
        RiDe.onchange = (ev) => {
            g = ev.target.checked
        } //checks if Moderate ridge defects is ticked in (true) or not

    const ComplReh =  document.getElementById('ST4');
    let h
        ComplReh.onchange = (ev) => {
            h = ev.target.checked
        } //checks if Need complex rehab is ticked in (true) or not

    let stage
    function debug(){
        if ((a=="low" || b=="low")&& c=="low" && d=="low" && e=="low" && f=="low" && g!=true && h!=true) {stage='I'}
        else if ((a=="low" || b=="low")&& c=="low" && d=="medium" && e=="low" && f=="low" && g!=true && h!=true) {stage='II'}
        else if ((c=="medium"||d=="high"||e=="high" || f=="medium"||g==true)&& (c!="high" && f!="high" && h!=true)) {stage='III'}
        else if ((c=="high"||f=="high"||h==true))  {stage='IV'}
        else if ((a==undefined||b==undefined) ||c==undefined ||d==undefined ||e==undefined ||f==undefined ){alert("Please fill all the boxes")}
        else {stage="II"}
    }
    </script>
</body>